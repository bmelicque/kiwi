- update maps syntax to `Key#Value`
  - inferred maps as `#{}`
- optimize import emission
  - check if js imports are hoisted -> emit them at the end of file only if needed
  - list all needed functions in files, to emit only needed stuff in standard file
    - use the `from` key in `TypeAlias` to detect methods that need a js function in standard file
    - use currying to match params (treat methods, call will manage itself)
      - e.g. `setDocumentBody => (document) => (body) => document.boy = body`
- document().body (&Node)
  - ~~Document is a type, not a trait~~
  - `dom.document() -> &Document` <=> js's `document`
  - `document.body` has limited typing (cf MDN)
    - `DocumentBody :: | Body{HTMLBodyElement} | Frame{HTMLFrameSetElement}`
    - `(d Document).body :: () -> ?&DocumentBody`
    - `(d Document).setBody :: (&DocumentBody) -> {}`
  - on emit `object.method`:
    - if `object` is Document | &Document and method name is "body" or "setBody", emit as `__.getDocumentBody` and `__.setDocumentBody`
    - or `new NodePointer(object.body)`
- fix declaration for tuples: check if part of an object (use “let” or not)
- object definition: remove order check
  - emitter should just use Object.Members & Object.Default to sort things out
- list methods
  - list.filter() mutates the list
  - filter(list, predicate)
  - list.sort() sorts in place
  - sort(list, predicate)
  - map(list, predicate)
- int vs float?
  - divisions
    - `Math.floor(a/b)`
    - `~~(a/b)`
    - `(a/b|0)`
- refactor Braced + Parenthesized + Bracketed ?
- merge token and literal
- infer constructors in lists, maps & sum
  - `[]Struct{{x: 1}, {x: 2}}`
  - `Sum.Constructor{{x: 1}}`
- Collapse option types
  - `??Type` => `?Type`
- Match
  - break
    - check if unreachable after break
  - fallthrough
  - number
  - string
    - regex
  - lists
  - tuple
  - update syntax to `pattern: expr`
    - for complex expr `pattern: {block}`
  - check all types in scope for traits
  - `isExiting(map)` returns `true` if all cases exit
- variadic functions
- WaitGroup()
  - .add() to push request
  - .settled()
  - .all()
  - .any()
  - .first()
- Signals?
- Optimizations:
  - Option type:
    - Type | undefined
    - match => test if undefined
  - emit inclusive range with literal
    - `1..=3` => `1..4`
  - reduce Loc memory footprint
    - Loc is just 1 int (character number in file)
    - have a list of new line positions
    - infer End from Start and token length
- Templating
  - `h'<p>Hello, world!</p>'`
  - `h'<p>Hello, {name}!</p>'`
- formatter
